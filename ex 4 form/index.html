<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Form</title>
    <style>
        body {
       background-image:url("https://static.vecteezy.com/system/resources/thumbnails/009/826/321/small/pastel-multi-color-gradient-background-simple-form-and-blend-of-color-spaces-as-contemporary-background-graphic-free-vector.jpg");
       background-repeat: no-repeat;
       background-size: cover;
       padding:250px;
}

* {
  box-sizing: border-box;

}

/* Add padding to containers */
.container {
  padding: 15px;
  width:30%;
  margin: 0 auto;
  
  background-color: white;
}

/* Full-width input fields */
input[type=text], input[type=tel] {
  width: 100%;
  padding: 10px;
  margin: 5px 0 22px 0;
  display: inline-block;
  border: none;
  background: #f1f1f1;
}

/* Overwrite default styles of hr */
hr {
  border: 1px solid #f1f1f1;
  margin-bottom: 25px;
}

/* Set a style for the submit button */
.registerbtn {
  background-color: #04AA6D;
  color: white;
  padding: 16px 20px;
  margin: 8px 0;
  border: none;
  cursor: pointer;
  width: 100%;
  opacity: 0.9;
}

.registerbtn:hover {
  opacity: 1;
}

/* Add a blue text color to links */
a {
  color: dodgerblue;
}

/* Set a grey background color and center the text of the "sign in" section */
.signin {
  background-color: #f1f1f1;
  text-align: center;
}

/* Styling for the details container */
.details {
    margin-top: 20px;
    padding: 10px;
    background-color: #f9f9f9;
    border: 1px solid #ccc;
}
    </style>
</head>
<body>
    <h1><center>Registration Form</center></h1>
    <h1><center>Department of IT</center></h1>
    <h1><center>EPOC 2K24</center></h1>

    <div class="form-container">
        <form id="registrationForm">
        
          <label for="fname"><b>FIRSTNAME</b></label>
          <input type="text" placeholder="Enter FIRSTNAME" name="fname" id="fname" required maxlength="20"><br><br>
    
          <label for="lname"><b>LASTNAME</b></label>
          <input type="text"placeholder="Enter LASTNAME"  name="lname" id="lname" required><br><br>
          <label for="gender"><b>GENDER</b></label><br>
          <input type="radio" name="gender" id="male" value="male">
          <label for="male">Male</label>
          <input type="radio" name="gender" id="female" value="female">
          <label for="female">Female</label><br><br>
    
          <label for="email"><b>EMAIL</b></label>
          <input type="text" placeholder="Enter Email" name="email" id="email" required><br><br>
    
          <label for="phone"><b>MOBILENO</b></label><br>
          <input type="tel"  placeholder="Enter mobile number" id="phone" required><br><br>
    
          <label for="college"><b>NAME OF THE INSTITUTION:</b></label>
          <input type="text" placeholder="Enter COLLEGE" name="college" id="college" required><br><br>
    
          <label for="branch"><b>BRANCH:</b></label>
          <select name="branch" id="branch" required>
              <option>Select</option>
              <option>IT</option>
              <option>CSE</option>
              <option>CSD</option>
              <option>AIDS</option>
              <option>AIML</option>
          </select><br><br>
          <label for="event"><b>TECHNICAL EVENT</b></label><br>
          <input type="checkbox" id="paperpresentation" name="event" value="Paper presentation">
          <label for="paperpresentation">Paper presentation</label><br>
          <input type="checkbox" id="projectpresentation" name="event" value="Project presentation">
          <label for="projectpresentation">Project presentation</label><br>
          <input type="checkbox" id="startupmania" name="event" value="Startup Mania">
          <label for="startupmania">Startup Mania</label><br>
          <input type="checkbox" id="quiz" name="event" value="Quiz">
          <label for="quiz">Quiz</label><br><br>
          <label for="non_technical_event"><b>Non-Technical Event:</b></label><br>
          <input type="checkbox" id="connection" name="non_technical_event" value="Connection">
          <label for="connection">Connection</label><br>
          <input type="checkbox" id="treasurehunt" name="non_technical_event" value="Treasure Hunt">
          <label for="treasurehunt">Treasure Hunt</label><br>
          <input type="checkbox" id="freefire" name="non_technical_event" value="Freefire">
          <label for="freefire">Freefire</label><br><br>
            <button type="button" onclick="validateForm()">Register</button><br><br>
        </form>
    </div>

    <script>
      
        function validateForm() {
            const fname = document.getElementById("fname").value;
            const lname = document.getElementById("lname").value;
            const male = document.getElementById("male").checked;
            const female = document.getElementById("female").checked;
            const gender = male ? "Male" : female ? "Female" : "";
            const email = document.getElementById("email").value;
            const phone = document.getElementById("phone").value;
            const college = document.getElementById("college").value;
            const branch = document.getElementById("branch").value;

            if (fname === "" || lname === "" || phone === "" || email === "" || college === "" || branch === "") {
                alert("Please fill in all fields");
                return;
            }

            if (!male && !female) {
                alert("Please select a gender");
                return;
            }

            if (!isValidEmail(email)) {
                alert("Please enter a valid email");
                return;
            }

            if (!isValidPhone(phone)) {
                alert("Please enter a valid phone number");
                return;
            }

            // Build the query string for redirecting
            const technicalEvents = document.getElementsByName("technical_event");
            const selectedTechnicalEvents = Array.from(technicalEvents)
                .filter(event => event.checked)
                .map(event => event.value);

            const nonTechnicalEvents = document.getElementsByName("non_technical_event");
            const selectedNonTechnicalEvents = Array.from(nonTechnicalEvents)
                .filter(event => event.checked)
                .map(event => event.value);

            const queryString = new URLSearchParams({
                fname,
                lname,
                gender,
                email,
                phone,
                college,
                branch,
                technicalEvents: selectedTechnicalEvents.join(","),
                nonTechnicalEvents: selectedNonTechnicalEvents.join(",")
            }).toString();

            alert("Successfully Registered!");

            // Redirect to the form details page with the query string
            window.location.href = `form_details.html?${queryString}`;
        }

        function isValidEmail(email) {
            const pattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return pattern.test(email);
        }

        function isValidPhone(phone) {
            const pattern = /^[0-9]{10}$/;
            return pattern.test(phone);
        }
    </script>
</body>
</html>